webpackJsonp([10],{305:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Confirm = __webpack_require__(331);\n\nvar _Confirm2 = _interopRequireDefault(_Confirm);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar API_MY_COUPON_RECEIVE_EXCHANGE = APIS.API_MY_COUPON_RECEIVE_EXCHANGE;\nvar API_PAGE = APIS.API_MY_COUPON_DETAIL;\nvar FETCH_PAGE = TYPES.FETCH_EAT_TIME_DETAIL;\n\nvar Index = function (_Quyou) {\n    _inherits(Index, _Quyou);\n\n    function Index() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Index);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Index.__proto__ || Object.getPrototypeOf(Index)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n            exchangeCode: ''\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Index, [{\n        key: 'checkExchangeCode',\n        value: function checkExchangeCode() {\n            var me = this;\n            var exchangeCode = me.state.exchangeCode;\n\n            if (!exchangeCode) return;\n            me.requestAPI(API_MY_COUPON_RECEIVE_EXCHANGE, {\n                coupon_code: exchangeCode,\n                token: me.user.token\n            }, function () {\n                var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n                var _response$code = response.code,\n                    code = _response$code === undefined ? -1 : _response$code,\n                    _response$data = response.data,\n                    data = _response$data === undefined ? \"\" : _response$data,\n                    _response$msg = response.msg,\n                    msg = _response$msg === undefined ? \"\" : _response$msg;\n                // 输入正确的兑换码，{\"msg\":\"\",\"code\":0}\n                // 随便输入一个码， {\"msg\":\"\",\"data\":false,\"code\":0}\n                // // {\"msg\":\"已经领取\",\"data\":\"\",\"code\":20012}\n\n                if (code === 0) {\n                    if (data === false) {\n                        _Confirm2.default.show({\n                            title: '兑换失败',\n                            desc: '无效的兑换码',\n                            callBacks: [\n                            // {\n                            //     text: '查看优惠券',\n                            //     onClick: () => {\n                            //         Confirm.close()\n                            //         me.openPage(`/mycoupons?ltype=0`)\n                            //     }\n                            // },\n                            {\n                                text: '我知道了',\n                                onClick: function onClick() {\n                                    _Confirm2.default.close();\n                                }\n                            }]\n                        });\n                        return;\n                    }\n                    _Confirm2.default.show({\n                        title: '兑换成功',\n                        desc: '快去使用吧~',\n                        callBacks: [{\n                            text: '查看优惠券',\n                            onClick: function onClick() {\n                                _Confirm2.default.close();\n                                me.openPage('/mycoupons?ltype=0');\n                            }\n                        }]\n                    });\n                } else if (code) {\n                    _Confirm2.default.show({\n                        title: '兑换失败',\n                        desc: msg || '兑换码错误',\n                        callBacks: [\n                        // {\n                        //     text: '查看优惠券',\n                        //     onClick: () => {\n                        //         Confirm.close()\n                        //         me.openPage(`/mycoupons?ltype=0`)\n                        //     }\n                        // },\n                        {\n                            text: '我知道了',\n                            onClick: function onClick() {\n                                _Confirm2.default.close();\n                            }\n                        }]\n                    });\n                }\n            });\n        }\n    }, {\n        key: 'handleChangeCode',\n        value: function handleChangeCode(e) {\n            var me = this;\n            me.setState({\n                exchangeCode: e.target.value.trim()\n            });\n        }\n    }, {\n        key: 'handleResetCode',\n        value: function handleResetCode(e) {\n            var me = this;\n            me.setState({\n                exchangeCode: ''\n            });\n        }\n    }, {\n        key: 'renderContent',\n        value: function renderContent() {\n            // document.title=\"兑换码领券\"\n            var me = this;\n            var exchangeCode = me.state.exchangeCode;\n\n            return React.createElement(\n                'div',\n                { className: 'my-coupon-exchange', style: { minHeight: window.innerHeight } },\n                React.createElement('input', {\n                    value: exchangeCode,\n                    type: 'text',\n                    maxLength: '20',\n                    placeholder: '\\u8BF7\\u8F93\\u5165\\u5151\\u6362\\u7801',\n                    onChange: me.handleChangeCode.bind(me)\n                }),\n                React.createElement(\n                    'div',\n                    { className: exchangeCode ? 'active' : '', onClick: me.checkExchangeCode.bind(me) },\n                    '\\u5151\\u6362'\n                ),\n                exchangeCode ? React.createElement('i', { className: 'icon', onClick: me.handleResetCode.bind(me) }) : null\n            );\n        }\n    }]);\n\n    return Index;\n}(Quyou);\n\nexports.default = Index;\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/quyou/MyCouponExchange.js\n// module id = 305\n// module chunks = 10\n\n//# sourceURL=webpack:///./src/pages/quyou/MyCouponExchange.js?")},331:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(67);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\n__webpack_require__(332);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n title,\n desc,\n callBacks: [\n   {text, onClick}\n ]\n */\n\nvar Confirm = function (_React$PureComponent) {\n    _inherits(Confirm, _React$PureComponent);\n\n    function Confirm() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Confirm);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Confirm.__proto__ || Object.getPrototypeOf(Confirm)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n            active: 0,\n            close: false\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Confirm, [{\n        key: 'close',\n        value: function close() {\n            this.setState({ close: true });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props$content = this.props.content,\n                title = _props$content.title,\n                desc = _props$content.desc,\n                subDesc = _props$content.subDesc,\n                _props$content$callBa = _props$content.callBacks,\n                callBacks = _props$content$callBa === undefined ? [] : _props$content$callBa;\n\n\n            var closeClass = '';\n            if (this.state.close) {\n                closeClass = 'close';\n            }\n            return _react2.default.createElement(\n                'div',\n                { className: 'qy-confirm-parent ' + closeClass },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'qy-confirm' },\n                    _react2.default.createElement('div', { className: 'close', onClick: function onClick() {\n                            return _this2.setState({ close: true });\n                        } }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'content' },\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'title' },\n                            title\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'desc' },\n                            desc\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: 'buttons' },\n                            callBacks.map(function (item, index) {\n                                var activeClass = '';\n                                if (index === _this2.state.active) {\n                                    activeClass = 'active';\n                                }\n                                return _react2.default.createElement(\n                                    'div',\n                                    { key: index, className: 'button ' + activeClass, onClick: function onClick() {\n                                            _this2.setState({ active: index });\n                                            item.onClick(index);\n                                        } },\n                                    item.text\n                                );\n                            })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return Confirm;\n}(_react2.default.PureComponent);\n\nvar model = null;\n\nexports.default = {\n    show: function show(content) {\n        var div = document.createElement('div');\n        document.body.appendChild(div);\n        _reactDom2.default.render(_react2.default.createElement(Confirm, { ref: function ref(t) {\n                return model = t;\n            }, content: content }), div);\n    },\n    close: function close() {\n        model.close();\n    }\n};\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Confirm/index.js\n// module id = 331\n// module chunks = 10 11\n\n//# sourceURL=webpack:///./src/components/Confirm/index.js?")},332:function(module,exports){eval("// removed by extract-text-webpack-plugin\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Confirm/index.scss\n// module id = 332\n// module chunks = 10 11\n\n//# sourceURL=webpack:///./src/components/Confirm/index.scss?")}});